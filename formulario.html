<!doctype html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Formulario - Cache First App</title>

  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json">

  <!-- iOS Support - Configuración Básica -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Mi App">

  <!-- iOS Icons - Usando los logos existentes -->
  <link rel="apple-touch-icon" href="/assets/192.png">
  <link rel="apple-touch-icon-precomposed" href="/assets/512.png">

  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <!-- jQuery necesario para Select2 -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Select2 CSS y JS -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
</head>

<body class="bg-gray-100 min-h-screen">
  <!-- Navegación -->
  <nav class="bg-blue-600 text-white p-4 shadow-lg">
    <div class="container mx-auto flex justify-between items-center">
      <h1 class="text-2xl font-bold">Mi App</h1>
      <div class="space-x-4">
        <a href="index.html" class="hover:underline">Home</a>
        <a href="calendario.html" class="hover:underline">Calendario</a>
        <a href="formulario.html" class="hover:underline font-semibold">Formulario</a>
      </div>
    </div>
  </nav>

  <!-- Contenido Principal -->
  <main class="container mx-auto mt-10 p-6">
    <div class="bg-white rounded-lg shadow-md p-8 max-w-2xl mx-auto">
      <h2 class="text-3xl font-bold text-blue-600 mb-6 text-center">Formulario de Registro</h2>

      <form id="registroForm" class="space-y-6">
        <!-- Nombre -->
        <div>
          <label for="nombre" class="block text-gray-700 font-semibold mb-2">Nombre Completo</label>
          <input type="text" id="nombre" name="nombre" required
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            placeholder="Ingresa tu nombre" />
        </div>

        <!-- Email -->
        <div>
          <label for="email" class="block text-gray-700 font-semibold mb-2">Email</label>
          <input type="email" id="email" name="email" required
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            placeholder="correo@ejemplo.com" />
        </div>

        <!-- País (Select2) -->
        <div>
          <label for="pais" class="block text-gray-700 font-semibold mb-2">País</label>
          <select id="pais" name="pais" required class="w-full">
            <option value="">Selecciona un país</option>
            <option value="mexico">México</option>
            <option value="argentina">Argentina</option>
            <option value="colombia">Colombia</option>
            <option value="españa">España</option>
            <option value="chile">Chile</option>
            <option value="peru">Perú</option>
            <option value="venezuela">Venezuela</option>
            <option value="uruguay">Uruguay</option>
          </select>
        </div>

        <!-- Intereses (Select2 Multiple) -->
        <div>
          <label for="intereses" class="block text-gray-700 font-semibold mb-2">Áreas de Interés</label>
          <select id="intereses" name="intereses[]" multiple required class="w-full">
            <option value="tecnologia">Tecnología</option>
            <option value="deportes">Deportes</option>
            <option value="arte">Arte y Cultura</option>
            <option value="ciencia">Ciencia</option>
            <option value="negocios">Negocios</option>
            <option value="educacion">Educación</option>
            <option value="salud">Salud</option>
          </select>
        </div>

        <!-- Botón de Envío -->
        <div class="text-center">
          <button type="submit"
            class="bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition duration-200">
            Enviar Formulario
          </button>
        </div>
      </form>

      <!-- Mensaje de Resultado -->
      <div id="resultado" class="mt-6 hidden">
        <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded">
          <strong>¡Formulario enviado exitosamente!</strong>
        </div>
      </div>
    </div>
  </main>

  <script src="main.js"></script>
  <script>
    $(document).ready(function () {
      // Inicializar Select2 en el select de país
      $('#pais').select2({
        placeholder: 'Selecciona un país',
        allowClear: true
      });

      // Inicializar Select2 en el select múltiple de intereses
      $('#intereses').select2({
        placeholder: 'Selecciona tus áreas de interés',
        allowClear: true
      });

      // Manejo del envío del formulario
      $('#registroForm').on('submit', function (e) {
        e.preventDefault();

        const datos = {
          nombre: $('#nombre').val(),
          email: $('#email').val(),
          pais: $('#pais').val(),
          intereses: $('#intereses').val()
        };

        console.log('Datos del formulario:', datos);

        // Mostrar mensaje de éxito
        $('#resultado').removeClass('hidden');

        // Opcional: Limpiar formulario después de 2 segundos
        setTimeout(() => {
          $('#registroForm')[0].reset();
          $('#pais').val(null).trigger('change');
          $('#intereses').val(null).trigger('change');
          $('#resultado').addClass('hidden');
        }, 2000);
      });
    });
  </script>
</body>

</html>